 
# Онлайн оплата заказа  


Цель пользователя: оплатить оформленный заказ пиццы через интернет    


Сценарий реализуется в рамках экранного интерфейса раздела онлайн оплаты заказа, в котором имеются следующие интерактивные элементы, используемые в процессе реализации сценария, условно называемые “кнопки”:

-элементы плагина он-лайн оплаты:  

    -Поля для введения реквизитов карты  
        -№ карты  

        -имя и фамилия держателя карты  

        -срок окончания действия карты  

        -CVC карты  

    -поле суммы оплаты  

    -поле команды к оплате  

-кнопка перехода на страницу отображения статуса исполнения  заказа в режиме он-лайн   

-кнопка  
 

##Основной сценарий:  

1. Пользователь: входит в раздел онлайн оплаты заказа  

2. Система обращается к плагину  онлайн оплаты и передает в него сумму к оплате  

3. Плагину  онлайн оплаты предлагает пользователю заполнить реквизиты карты  

4. Пользователь заполняет реквизиты карты и дает команду на оплату  

5. Плагин связывается с внешней платежной системой,  получат от неё сообщение об исполнении платежа и передает его в систему  

6. Система сообщает пользователю об успешно выполненном платеже, сохраняет сведения об оплате  в истории заказов личного кабинета, если пользователь авторизован,  предлагает пользователю перейти  на страницу отображения статуса заказа в режиме онлайн и включает обратный отсчет автоматического перевода через 1 минуту на страницу отображения статуса исполнения заказа в режиме онлайн.  

7. Пользователь активирует переход на страницу отображения статуса исполнения заказа в режиме онлайн до момента истечения обратного отсчета.  

8. Система отображает статус исполнения  заказа в режиме онлайн.  

 

##Альтернативный сценарий  для п. 5

5. Плагин связывается с внешней платежной системой,  получат от неё сообщение о недостаточности средств на карте  

6. Система отображает на экране сообщение пользователю о недостаточности средств на карте и предложение:

оперативно пополнить средства на карте и продолжить оплату по введенным реквизитам

использовать для оплаты другую карту и внести новые реквизиты карты

выбрать другую форму оплаты заказа  

7. Пользователь выбирает  оперативное пополнение средств на карте и продолжение оплаты по введенным реквизитам  

8. Система возвращает пользователя в плагин с внесенными реквизитами для оплаты  

9. п.4 Основного сценария  

 

##Альтернативный сценарий 1 Альтернативного сценария  для п. 6

 

7. Пользователь выбирает использование другой карты и внесение новых реквизитов

карты  

8. Система возвращает пользователя в плагин с внесенными реквизитами для оплаты  

9. п.2 Основного сценария

 

##Альтернативный сценарий 2 Альтернативного сценария  для п. 6

 

7. Пользователь выбирает использование другую форму оплаты закза  

8. Система возвращает пользователя в раздел выбора форм оплаты заказа  

 

 

##Альтернативный сценарий  для п. 7  

8. Пользователь не активирует переход на страницу отображения статуса исполнения заказа в режиме онлайн  в течение времени обратного отсчета (1 минута)  

9. Система автоматически, по истечении 1-й минуты, начинает  отображать  статус исполнения  заказа в режиме онлайн. 